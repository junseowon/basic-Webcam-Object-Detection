<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>실시간 웹캠 객체 탐지</title>

    <link rel="stylesheet" href="./css/style.css">

    <!-- TensorFlow.js 라이브러리 로드 -->
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@4.18.0/dist/tf.min.js"></script>

    <!-- COCO-SSD 모델 로드 -->
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow-models/coco-ssd@2.2.3"></script>
</head>

<body>
    <div>
        <!-- 헤더 -->
        <header>
            <h1>실시간 웹캠 객체 탐지</h1>
            <p>웹캠을 사용하여 실시간으로 객체를 탐지하고 녹화할 수 있습니다.</p>
        </header>

        <!-- 메인 컨텐츠 -->
        <main>

            <!-- 제어 버튼 섹션 -->
            <div>
                <button id="start-camera-btn">카메라 시작</button>
                <button id="capture-btn" class="hidden">캡처 시작</button>
            </div>

            <!-- 상태 메시지 -->
            <div id="status-container">
                <p id="status"></p>
            </div>

            <!-- 비디오 및 결과 표시 섹션 -->
            <div id="result-container" class="hidden">
                <video id="webcam-video" autoplay muted playsinline></video>
                <canvas id="canvas"></canvas>
            </div>

            <!-- 탐지된 객체 범례 -->
             <div id="legend"></div>
            
            <!-- 녹화 미리보기 및 저장 섹션 -->
            <div id="capture-preview-container" class="hidden">
                <h3>녹화된 영상 미리보기</h3>
                <video id="recorded-video-preview" controls></video>
                <div>
                    <button id="save-video-btn">영상 저장</button>
                </div>
            </div>
        </main>
        
        
        <footer>
            <hr>
            <p>TensorFlow.js와 COCO-SSD 모델을 사용하여 브라우저에서 실행됩니다.</p>
        </footer>
    </div>
        
    <script src="./js/script.js"></script>
</body>
</html>
